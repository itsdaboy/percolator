@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap');

:root {
  --base: #06080f;
  --panel: #0b0e18;
  --card: #0f1320;
  --elevated: #161b2e;
  --border: rgba(255,255,255,0.06);
  --border-bright: rgba(255,255,255,0.1);

  --text-1: #e8edf5;
  --text-2: #8892a6;
  --text-3: #525d73;
  --text-muted: #3b4459;

  --green: #00d672;
  --green-dim: #00b35f;
  --red: #ff3b5c;
  --red-dim: #e6304f;
  --blue: #4a9eff;
  --blue-dim: #2d7fe6;
  --violet: #8b5cf6;
  --yellow: #f0b90b;
  --cyan: #00e5ff;

  /* Bloomberg terminal additions */
  --amber: #ff8c00;
  --amber-dim: #cc7000;
  --terminal-green: #00ff41;
  --frame-color: rgba(74,158,255,0.15);
  --frame-color-hover: rgba(74,158,255,0.3);
  --data-flash-green: rgba(0,214,114,0.3);
  --data-flash-red: rgba(255,59,92,0.3);
}

html { color-scheme: dark; }

body {
  background: var(--base);
  color: var(--text-1);
  font-family: "Space Grotesk", "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  letter-spacing: -0.02em;
}

.tabular { font-variant-numeric: tabular-nums; font-feature-settings: "tnum"; }
.mono { font-family: "JetBrains Mono", "SF Mono", "Consolas", monospace; }

/* ═══ Form Controls ═══ */
input[type="range"] { -webkit-appearance: none; appearance: none; height: 3px; border-radius: 1px; background: var(--card); outline: none; cursor: pointer; }
input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 14px; height: 14px; border-radius: 50%; background: var(--blue); box-shadow: 0 0 0 2px rgba(74,158,255,0.2); cursor: pointer; transition: box-shadow 0.15s; }
input[type="range"]::-webkit-slider-thumb:hover { box-shadow: 0 0 0 3px rgba(74,158,255,0.3); }
input[type="range"]::-moz-range-thumb { width: 14px; height: 14px; border-radius: 50%; background: var(--blue); box-shadow: 0 0 0 2px rgba(74,158,255,0.2); border: none; cursor: pointer; }

::-webkit-scrollbar { width: 3px; height: 3px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.08); border-radius: 1px; }
::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.15); }

input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] { -moz-appearance: textfield; }
::selection { background: rgba(74,158,255,0.3); color: white; }

/* ═══ Keyframes ═══ */
@keyframes fade-in-up {
  from { opacity: 0; transform: translateY(16px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}
@keyframes pulse-glow {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.8; }
}
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-6px); }
}
@keyframes float-slow {
  0%, 100% { transform: translateY(0px); }
  33% { transform: translateY(-4px); }
  66% { transform: translateY(2px); }
}
@keyframes ticker {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}
@keyframes scan {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100%); }
}
@keyframes orb-drift {
  0% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(30px, -20px) scale(1.05); }
  50% { transform: translate(-10px, -40px) scale(0.95); }
  75% { transform: translate(-30px, -10px) scale(1.02); }
  100% { transform: translate(0, 0) scale(1); }
}
@keyframes orb-drift-reverse {
  0% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(-20px, 20px) scale(0.97); }
  50% { transform: translate(15px, 30px) scale(1.04); }
  75% { transform: translate(25px, -15px) scale(0.98); }
  100% { transform: translate(0, 0) scale(1); }
}
@keyframes hero-glow {
  0%, 100% { opacity: 0.06; transform: scale(1); }
  50% { opacity: 0.1; transform: scale(1.1); }
}
@keyframes grid-fade {
  0%, 100% { opacity: 0.03; }
  50% { opacity: 0.06; }
}
@keyframes line-scan {
  0% { transform: translateY(-100vh); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { transform: translateY(100vh); opacity: 0; }
}

/* ═══ New Keyframes ═══ */
@keyframes particle-float {
  0%, 100% { transform: translateY(0) translateX(0); opacity: 0.1; }
  25% { transform: translateY(-30px) translateX(10px); opacity: 0.3; }
  50% { transform: translateY(-60px) translateX(-5px); opacity: 0.15; }
  75% { transform: translateY(-90px) translateX(15px); opacity: 0.25; }
}
@keyframes flow-line {
  0% { background-position: -30% 0; }
  100% { background-position: 130% 0; }
}
@keyframes ring-pulse {
  0%, 100% { opacity: 0.04; transform: scale(1); }
  50% { opacity: 0.08; transform: scale(1.03); }
}
@keyframes ripple {
  0% { transform: scale(0); opacity: 0.4; }
  100% { transform: scale(12); opacity: 0; }
}
@keyframes success-particle {
  0% { transform: translate(-50%, -50%) translateY(0) scale(1); opacity: 1; }
  100% { transform: translate(-50%, -50%) translateY(-80px) translateX(var(--spread, 0px)) scale(0); opacity: 0; }
}
@keyframes scale-in {
  0% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); opacity: 1; }
}
@keyframes cursor-fade-out {
  0%, 70% { opacity: 1; }
  100% { opacity: 0; }
}
@keyframes grid-pulse {
  0%, 100% { opacity: 0.035; }
  50% { opacity: 0.06; }
}
@keyframes travel-dot {
  0% { transform: translateX(-10px) translateY(0); opacity: 0; }
  10% { opacity: 0.6; }
  50% { transform: translateX(50vw) translateY(-10px); }
  90% { opacity: 0.6; }
  100% { transform: translateX(100vw) translateY(0); opacity: 0; }
}
@keyframes shimmer-line {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
@keyframes terminal-blink {
  0%, 49.9% { opacity: 1; }
  50%, 100% { opacity: 0; }
}
@keyframes data-flash-green {
  0% { background-color: var(--data-flash-green); }
  100% { background-color: transparent; }
}
@keyframes data-flash-red {
  0% { background-color: var(--data-flash-red); }
  100% { background-color: transparent; }
}
@keyframes heartbeat {
  0%, 100% { transform: scale(1); opacity: 1; }
  15% { transform: scale(1.6); opacity: 0.8; }
  30% { transform: scale(1); opacity: 1; }
  45% { transform: scale(1.3); opacity: 0.9; }
  60%, 100% { transform: scale(1); opacity: 1; }
}
@keyframes h-scan {
  0% { transform: translateX(-100%); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { transform: translateX(100vw); opacity: 0; }
}
@keyframes tick-up {
  0% { color: var(--green); transform: translateY(2px); }
  100% { color: inherit; transform: translateY(0); }
}
@keyframes tick-down {
  0% { color: var(--red); transform: translateY(-2px); }
  100% { color: inherit; transform: translateY(0); }
}
@keyframes depth-fill {
  from { width: 0%; }
}
@keyframes noise-flicker {
  0%, 100% { opacity: 0.02; }
  50% { opacity: 0.04; }
  75% { opacity: 0.015; }
}
@keyframes label-slide {
  0% { opacity: 0; transform: translateX(-4px); }
  100% { opacity: 1; transform: translateX(0); }
}

/* ═══ Animation Classes ═══ */
.animate-fade-in-up { animation: fade-in-up 0.5s ease-out both; }
.animate-fade-in { animation: fade-in 0.4s ease-out both; }
.animate-gradient { background-size: 200% 200%; animation: gradient-shift 6s ease infinite; }
.animate-pulse-glow { animation: pulse-glow 3s ease-in-out infinite; }
.animate-shimmer { background-size: 200% 100%; animation: shimmer 2.5s linear infinite; }
.animate-float { animation: float 5s ease-in-out infinite; }
.animate-float-slow { animation: float-slow 7s ease-in-out infinite; }
.animate-ticker { animation: ticker 25s linear infinite; }
.animate-blink { animation: blink 1s step-end infinite; }
.animate-orb { animation: orb-drift 20s ease-in-out infinite; }
.animate-orb-reverse { animation: orb-drift-reverse 25s ease-in-out infinite; }
.animate-hero-glow { animation: hero-glow 8s ease-in-out infinite; }
.animate-particle { animation: particle-float 12s ease-in-out infinite; }
.animate-flow-line { background-size: 30% 100%; background-repeat: no-repeat; animation: flow-line 3s linear infinite; }
.animate-ripple { animation: ripple 0.6s ease-out forwards; }
.animate-travel-dot { animation: travel-dot 8s linear infinite; }
.animate-scale-in { animation: scale-in 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s both; }
.animate-success-particle { animation: success-particle 0.8s ease-out forwards; }
.animate-terminal-blink { animation: terminal-blink 1.06s step-end infinite; }
.animate-heartbeat { animation: heartbeat 2s ease-in-out infinite; }
.animate-label-slide { animation: label-slide 0.3s ease-out; }

.delay-100 { animation-delay: 100ms; }
.delay-200 { animation-delay: 200ms; }
.delay-300 { animation-delay: 300ms; }
.delay-400 { animation-delay: 400ms; }
.delay-500 { animation-delay: 500ms; }
.delay-600 { animation-delay: 600ms; }
.delay-800 { animation-delay: 800ms; }

/* ═══ Utility Classes ═══ */
.glass {
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.05);
}
.glass-hover:hover {
  background: rgba(255, 255, 255, 0.04);
  border-color: rgba(255, 255, 255, 0.08);
}
.accent-line {
  background: linear-gradient(90deg, var(--blue), var(--cyan));
}
.accent-text {
  background: linear-gradient(135deg, var(--blue), var(--cyan));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ═══ Background Effects ═══ */
.bg-noise {
  position: relative;
}
.bg-noise::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 256px 256px;
  pointer-events: none;
  z-index: 1;
  opacity: 0.4;
}

.glow-btn {
  position: relative;
  overflow: hidden;
}
.glow-btn::after {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  background: linear-gradient(135deg, var(--blue), var(--cyan));
  opacity: 0;
  transition: opacity 0.3s;
  z-index: -1;
  filter: blur(12px);
}
.glow-btn:hover::after {
  opacity: 0.4;
}

/* ═══ Bloomberg Terminal Utilities ═══ */
.terminal-mono {
  font-family: "JetBrains Mono", "SF Mono", "Consolas", monospace;
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum";
  letter-spacing: 0.02em;
}
.bb-label {
  font-size: 8px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: var(--text-muted);
  font-family: "JetBrains Mono", monospace;
}
.flash-green { animation: data-flash-green 0.6s ease-out; }
.flash-red { animation: data-flash-red 0.6s ease-out; }
.bb-separator {
  width: 1px;
  height: 16px;
  background: linear-gradient(180deg, transparent, var(--frame-color), transparent);
}
.glow-text { text-shadow: 0 0 6px currentColor; }

/* CRT noise overlay */
.crt-noise::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 128px 128px;
  pointer-events: none;
  z-index: 1000;
  opacity: 0.3;
  animation: noise-flicker 4s ease-in-out infinite;
}

/* CRT scanlines overlay */
.crt-scanlines::after {
  content: '';
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.03) 2px,
    rgba(0, 0, 0, 0.03) 4px
  );
  pointer-events: none;
  z-index: 999;
}

/* Bloomberg-style scan line for trade page */
.trade-scanline::after {
  content: '';
  position: fixed;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(74,158,255,0.08), transparent);
  animation: line-scan 8s linear infinite;
  pointer-events: none;
  z-index: 100;
}
